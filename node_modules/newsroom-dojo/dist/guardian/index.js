function e(e="#gv-atom"){if(window.frameElement){const n=document.querySelector(e);function o(e,n){let o,i=e.clientHeight;!function t(){o=e.clientHeight,i!==o&&n(),i=o,e.onElementHeightChangeTimer&&clearTimeout(e.onElementHeightChangeTimer),e.onElementHeightChangeTimer=setTimeout(t,200)}()}console.log("Inside version 1.1"),window.parent.postMessage({sentinel:"amp",type:"embed-size",height:document.body.scrollHeight},"*"),document.body.style.overflow="hidden",window.frameElement.height=n.offsetHeight,o(document.body,(function(){window.frameElement.height=n.offsetHeight}))}}function n(){let e;return"undefined"!=typeof navigator&&(e=navigator.userAgent.toLowerCase()),e}function o(){if("undefined"!=typeof navigator){const e=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,n=navigator.userAgent||navigator.vendor||window.opera;return e.test(n.substr(0,4))||/iPad/i.test(navigator.userAgent)}return!1}function i(){if("undefined"!=typeof navigator){const e=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"];return!!navigator.platform&&e.includes(navigator.platform)}return!1}function t(){let e=n();console.log("browser",e);let o=!1;if(window.location!=window.parent.location){if(!window.location.ancestorOrigins)return!1;o="null"==window.location.ancestorOrigins[0]}else o="file://"===window.location.origin||null===window.location.origin||"https://mobile.guardianapis.com"===window.location.origin;return o}function r(){let e=window.location!=window.parent.location;console.log("embedded",e);let n={};return"undefined"!=typeof navigator?(n.platform=navigator.platform.toLowerCase(),n.userAgent=navigator.userAgent.toLowerCase(),n.isMobile=o(),n.app={isApp:t(),isIos:i(),isAndroid:/(android)/i.test(navigator.userAgent),isiPhone:/(iPhone)/i.test(navigator.platform),isiPad:/iPad/i.test(navigator.userAgent)}):(console.warn("Navigator is not defined. Running in a non-browser environment."),n.platform="unknown",n.userAgent="unknown",n.isMobile=!1,n.app={isApp:!1,isIos:!1,isAndroid:!1,isiPhone:!1,isiPad:!1}),n}export{t as checkApp,i as checkIOS,o as checkMobile,r as checkPlatform,n as getBrowser,e as resizeIframe};
